/* Theme Variables */
/* Default: Light theme */
:root {
  /* Brand Colors */
  --color-primary: #e53935; /* refined YouTube red */
  --color-secondary: #2f2f2f; /* dark gray */
  --color-bg: #f7f7fb; /* soft app background */
  --color-surface: #ffffff; /* cards */
  --color-text: #101114; /* high contrast text */
  --color-muted: #70757a; /* muted */

  /* Status */
  --color-success: #2e7d32;
  --color-warning: #f57c00;
  --color-danger: #d32f2f;
  --color-info: #1976d2; /* scheduled blue */
  --color-completed: #9aa0a6;

  /* Shadows & Radii */
  --radius: 12px;
  --shadow-sm: 0 2px 6px rgba(0,0,0,0.08);
  --shadow-md: 0 6px 18px rgba(0,0,0,0.12);
  --shadow-lg: 0 12px 28px rgba(0,0,0,0.16);

  /* Transitions */
  --ease: cubic-bezier(.2,.8,.2,1);
  --transition: 0.3s var(--ease);
}

/* Dark theme */
:root[data-theme="dark"] {
  --color-primary: #ff4d4d;
  --color-secondary: #cccccc;
  --color-bg: #121314;
  --color-surface: #1e2024;
  --color-text: #e8eaed;
  --color-muted: #a1a6ab;

  --color-success: #66bb6a;
  --color-warning: #ffb74d;
  --color-danger: #ef5350;
  --color-info: #64b5f6;
  --color-completed: #b0b4ba;

  --shadow-sm: 0 2px 6px rgba(0,0,0,0.35);
  --shadow-md: 0 6px 18px rgba(0,0,0,0.45);
  --shadow-lg: 0 12px 28px rgba(0,0,0,0.55);
}

/* Base & Accessibility */
* { box-sizing: border-box; }
/* Ensure elements with the HTML 'hidden' attribute do not render */
[hidden] { display: none !important; }
html { scroll-behavior: smooth; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Noto Sans", "Helvetica Neue", Arial;
  font-size: 16px; /* minimum for readability */
  line-height: 1.6;
  background: var(--color-bg);
  color: var(--color-text);
}

a { color: var(--color-primary); text-decoration: none; }
a:hover { text-decoration: underline; }

img { max-width: 100%; display: block; }

:focus-visible { outline: 3px solid var(--color-info); outline-offset: 2px; }

/* Layout */
.container { max-width: 1400px; margin: 0 auto; padding: 24px; }

.app-header {
  position: sticky; top: 0; z-index: 50;
  background: linear-gradient(180deg, #ffffff 0%, rgba(255,255,255,0.9) 100%);
  border-bottom: 1px solid rgba(0,0,0,0.06);
  backdrop-filter: saturate(180%) blur(6px);
}
.app-header .branding { display: flex; align-items: center; gap: 12px; padding: 16px 24px; }
.app-header h1 { margin: 0; font-size: 1.4rem; }
.app-header .branding i { color: var(--color-primary); font-size: 1.4rem; }
.app-header .status-bar { display: flex; align-items: center; gap: 16px; padding: 0 24px 12px; color: var(--color-muted); font-weight: 500; }
.status-item i { margin-right: 6px; }

/* Main Navigation */
.main-nav {
  display: flex; gap: 10px; align-items: center;
  padding: 10px 24px; background: var(--color-surface);
  border-bottom: 1px solid rgba(0,0,0,0.06);
  position: sticky; top: 64px; z-index: 40;
}
.main-nav .nav-link {
  appearance: none; border: none; cursor: pointer;
  background: #f0f1f3; color: var(--color-text); font-weight: 700;
  border-radius: 999px; padding: 8px 14px; transition: all var(--transition);
  display: inline-flex; align-items: center; gap: 8px;
}
.main-nav .nav-link:hover { filter: brightness(1.03); }
.main-nav .nav-link.active { background: var(--color-primary); color: #fff; }

/* Small button variant */
.btn.small { padding: 6px 10px; font-size: 0.85rem; }

/* Cards */
.card {
  background: var(--color-surface);
  border-radius: var(--radius);
  padding: 20px;
  margin-top: 20px;
  box-shadow: var(--shadow-sm);
  border: 1px solid rgba(0,0,0,0.06);
  animation: fade-in 400ms var(--ease) both;
}
.card:hover { box-shadow: var(--shadow-md); transition: box-shadow var(--transition); }

.section-header { display: flex; align-items: center; justify-content: space-between; gap: 16px; margin-bottom: 12px; }
.section-header h2 { margin: 0; font-size: 1.2rem; display: flex; align-items: center; gap: 10px; }

/* Forms */
.form-grid { display: grid; grid-template-columns: 1fr; gap: 14px; }
.form-row { display: grid; gap: 8px; }
.form-row label { font-weight: 600; }
input[type="text"], input[type="datetime-local"], input[type="file"], input[type="password"], input[type="search"], textarea, select {
  width: 100%;
  padding: 10px 12px;
  border-radius: 10px;
  border: 1px solid rgba(0,0,0,0.12);
  background: #fff;
  color: var(--color-text);
  transition: border-color var(--transition), box-shadow var(--transition);
}
input::placeholder { color: #999; }
input:focus-visible, textarea:focus-visible, select:focus-visible {
  border-color: var(--color-info);
  box-shadow: 0 0 0 4px rgba(33,150,243,0.15);
}
.form-actions { display: flex; gap: 12px; }

/* Buttons */
.btn { display: inline-flex; align-items: center; gap: 8px; border: none; cursor: pointer; border-radius: 999px; padding: 10px 16px; font-weight: 600; transition: transform var(--transition), box-shadow var(--transition), filter var(--transition); }
.btn i { font-size: 0.95rem; }
.btn.primary { color: #fff; background: linear-gradient(135deg, #ff3b3b, var(--color-primary)); box-shadow: 0 6px 12px rgba(255,0,0,0.25); }
.btn.primary:hover { filter: brightness(1.05); box-shadow: 0 10px 18px rgba(255,0,0,0.35); transform: translateY(-1px); }
.btn.filter { background: #f1f1f1; color: #333; }
.btn.filter.active { background: #e7e7e7; box-shadow: inset 0 0 0 2px rgba(0,0,0,0.06); }
.btn.success { background: linear-gradient(135deg, #66bb6a, var(--color-success)); color: #fff; }
.btn.warning { background: linear-gradient(135deg, #ffb74d, var(--color-warning)); color: #fff; }
.btn.danger { background: linear-gradient(135deg, #e57373, var(--color-danger)); color: #fff; }

/* Messages */
.message { margin-top: 8px; font-weight: 600; }
.message.success { color: var(--color-success); }
.message.error { color: var(--color-danger); }
.message.warn { color: var(--color-warning); }

/* Progress */
.progress { position: relative; height: 10px; background: #eee; border-radius: 999px; overflow: hidden; margin-top: 12px; }
.progress-bar { height: 100%; background: linear-gradient(90deg, rgba(255,0,0,0.9), rgba(255,0,0,0.6)); background-size: 200% 100%; animation: progress-stripes 1.6s linear infinite; }

/* Videos Grid */
.grid { display: grid; grid-template-columns: 1fr; gap: 16px; }
.legacy-list { list-style: none; padding: 0; }
.legacy-list li { padding: 10px 0; border-bottom: 1px solid rgba(0,0,0,0.08); }

.controls { display: flex; align-items: center; justify-content: space-between; gap: 12px; }
.filters { display: flex; flex-wrap: wrap; gap: 8px; }
.search { max-width: 320px; width: 100%; }

/* Status Badges */
.badge { display: inline-flex; align-items: center; gap: 6px; padding: 6px 10px; border-radius: 999px; font-size: 0.85rem; font-weight: 700; letter-spacing: 0.02em; }
.badge i { font-size: 0.9rem; }
.badge--scheduled { background: rgba(33,150,243,0.12); color: var(--color-info); }
.badge--streaming { background: rgba(76,175,80,0.12); color: var(--color-success); animation: pulse 1.6s infinite; }
.badge--completed { background: rgba(0,0,0,0.06); color: var(--color-completed); }
.badge--failed { background: rgba(244,67,54,0.12); color: var(--color-danger); }
.badge--library { background: rgba(117,117,117,0.12); color: var(--color-muted); }

/* Empty State */
.empty { text-align: center; color: var(--color-muted); padding: 28px; }
.empty i { font-size: 2rem; display: block; margin-bottom: 10px; color: var(--color-muted); }

/* Spinner */
.spinner { position: fixed; inset: 0; display: grid; place-items: center; background: rgba(255,255,255,0.6); }
.spinner-inner { width: 48px; height: 48px; border: 4px solid rgba(0,0,0,0.12); border-top-color: var(--color-primary); border-radius: 50%; animation: spin 0.9s linear infinite; }

/* Footer */
.app-footer { display: flex; align-items: center; justify-content: space-between; gap: 12px; padding: 24px 0; color: var(--color-muted); }
.app-footer .links { display: flex; align-items: center; gap: 16px; }

/* Toasts */
.toast-container { position: fixed; right: 16px; bottom: 16px; display: flex; flex-direction: column; gap: 10px; z-index: 100; }
.toast { background: #fff; color: #111; border-radius: 12px; box-shadow: var(--shadow-md); padding: 10px 14px; transition: all var(--transition); }
.toast--success { border-left: 4px solid var(--color-success); }
.toast--error { border-left: 4px solid var(--color-danger); }
.toast--info { border-left: 4px solid var(--color-info); }
.toast--warn { border-left: 4px solid var(--color-warning); }

/* Animations */
@keyframes fade-in { from { opacity: 0; transform: translateY(6px); } to { opacity: 1; transform: translateY(0); } }
@keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(76,175,80,0.4); } 70% { box-shadow: 0 0 0 10px rgba(76,175,80,0); } 100% { box-shadow: 0 0 0 0 rgba(76,175,80,0); } }
@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
@keyframes progress-stripes { 0% { background-position: 0 0; } 100% { background-position: 200% 0; } }

/* Modal (edit form) */
.modal-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,0.35); display: none; }
.modal { position: fixed; inset: 0; display: none; align-items: center; justify-content: center; padding: 24px; }
.modal.open, .modal-backdrop.open { display: flex; }
.modal-content { background: var(--color-surface); border-radius: var(--radius); box-shadow: var(--shadow-lg); width: min(720px, 95vw); padding: 24px; animation: fade-in 240ms var(--ease) both; }
.modal-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px; }
.modal-actions { display: flex; justify-content: flex-end; gap: 10px; margin-top: 16px; }

/* Health status coloring */
#health-status.ok { color: var(--color-success); }
#health-status.warn { color: var(--color-warning); }
#health-status.error { color: var(--color-danger); }

/* Responsive Breakpoints */
@media (min-width: 768px) {
  .form-grid { grid-template-columns: 1fr 1fr; }
  .grid { grid-template-columns: repeat(2, 1fr); }
}

@media (min-width: 1024px) {
  .grid { grid-template-columns: repeat(3, 1fr); }
}

@media (min-width: 1360px) {
  .grid { grid-template-columns: repeat(4, 1fr); }
}

/* High Contrast Helpers */
.hc-border { border: 2px solid #000; }
.hc-bg { background: #fff !important; color: #000 !important; }

/* Print Styles */
@media print {
  body { background: #fff; color: #000; }
  .app-header, .controls, .form-grid, .app-footer, .spinner, .modal, .modal-backdrop { display: none !important; }
  .card { box-shadow: none; border: 1px solid #000; }
  .grid { grid-template-columns: 1fr !important; }
}